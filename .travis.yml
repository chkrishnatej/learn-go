# Picked from https://gist.github.com/jonfriesen/1c64bebdd2b30ba1b2465c259f070459
language: go
os: linux

dist: bionic

go:
  - 1.14.x

git:
    depth: 1

matrix:
    fast_finish: true

# Check webhook integration    
notifications:
    email: false
    webhooks: "$LEARN_GO_WEBHOOK"


before_script:
    - curl -sSfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh | sh -s -- -b $(go env GOPATH)/bin v1.24.0

script:
    - make lint
    - make test

after_success:
    - bash <(curl -s https://codecov.io/bash)
